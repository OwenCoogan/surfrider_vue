<template>
    <div class="svg-holder">
        <svg fill="none" height="100vh" viewBox="0 0 1440 900" width="1440" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><radialGradient id="a" cx="0" cy="0" gradientTransform="matrix(-601.00415295 -1304.99648879 2087.99983188 -961.60915458 1321 1075)" gradientUnits="userSpaceOnUse" r="1"><stop offset="0" stop-color="#efe8a9"/><stop offset="1" stop-color="#88ddd4"/></radialGradient><clipPath id="b"><path d="m517 90h37v49h-37z"/></clipPath><clipPath id="c"><path d="m388 208h37v49h-37z"/></clipPath><clipPath id="d"><path d="m440 482h37v49h-37z"/></clipPath><clipPath id="e"><path d="m459 328h37v49h-37z"/></clipPath><path d="m0 0h1440v900h-1440z" fill="url(#a)"/><path d="m0 0h1440v900h-1440z" fill="#88ddd4"/><path d="m400.695 618.766 65.566-201.738c5.593-17.11 4.594-35.692-2.802-52.103l-36.776-82.15c-2.267-5.136-6.22-9.343-11.206-11.923l-70.75-35.769c-3.351-1.694-6.264-4.142-8.508-7.152-2.245-3.01-3.76-6.501-4.427-10.196l-4.41-23.846c-.627-3.494-.481-7.083.427-10.514.908-3.432 2.556-6.623 4.828-9.35s5.113-4.923 8.324-6.435 6.714-2.303 10.263-2.317h73.492c2.133.006 4.257.287 6.318.835l37.79 10.254c3.599.968 7.373 1.096 11.029.374 3.657-.722 7.099-2.275 10.06-4.54 2.961-2.264 5.362-5.179 7.017-8.519 1.656-3.34 2.521-7.016 2.53-10.744v-11.089c0-3.186.628-6.341 1.847-9.285 1.219-2.943 3.006-5.618 5.259-7.871 2.252-2.253 4.927-4.04 7.87-5.26 2.943-1.219 6.098-1.847 9.284-1.847 3.63.004 7.214.819 10.49 2.385l52.989 25.396c4.077 1.955 8.619 2.734 13.115 2.249 4.496-.484 8.768-2.213 12.336-4.992l106.811-83.4608c4.67-3.6565 10.517-5.4753 16.437-5.1128s11.501 2.8812 15.69 7.0802l137.687 137.8904c2.227 2.28 4.907 4.067 7.868 5.246l85.89 35.769c5.614 2.339 10.148 6.697 12.708 12.215s2.96 11.794 1.121 17.592l-25.452 79.468c-1.37 4.301-3.933 8.126-7.391 11.028l-64.313 55.442c-4.71 4.012-7.709 9.672-8.385 15.822s1.023 12.326 4.749 17.265l23.127 30.642c2.902 3.854 4.602 8.478 4.887 13.294l9.06 161.558c.234 4.054-.549 8.102-2.277 11.777s-4.346 6.861-7.617 9.267l-47.684 34.457c-3.485 2.552-7.589 4.124-11.886 4.554-4.297.429-8.631-.299-12.552-2.11l-106.394-48.824c-5.529-2.534-11.807-2.898-17.592-1.021-5.784 1.877-10.653 5.858-13.641 11.155l-39.339 70.048c-2.989 5.297-7.857 9.279-13.642 11.156-5.784 1.877-12.063 1.512-17.591-1.021l-229.299-105.519c-5.393-2.484-9.688-6.859-12.072-12.298-2.384-5.438-2.69-11.562-.863-17.212z" fill="#97c850"/><path d="m931.102 770.25 9.886 86.922c.388 3.249 1.956 6.245 4.408 8.423s5.619 3.389 8.905 3.405h13.792c2.671.004 5.283-.787 7.499-2.273 2.216-1.485 3.935-3.596 4.937-6.062l25.831-63.505c.35-.954.62-1.937.8-2.937l10.68-68.823c.3-1.903.18-3.848-.35-5.701s-1.45-3.57-2.71-5.033c-1.25-1.464-2.82-2.639-4.57-3.444-1.76-.805-3.67-1.222-5.61-1.222-3.21.005-6.319 1.163-8.749 3.262s-4.02 4.999-4.48 8.169l-1.355 8.732c-.352 2.367-1.337 4.596-2.852 6.454-1.515 1.857-3.504 3.275-5.758 4.103l-41.614 15.242c-2.849 1.064-5.256 3.052-6.832 5.644s-2.231 5.637-1.858 8.644z" fill="#97c850"/><g clip-path="url(#b)" class=" mission--cursor" @click="onSelectMission(missions[0]._id)"><path d="m533.599 138.011c-14-20.158-16.599-22.227-16.599-29.636 0-10.1483 8.283-18.375 18.5-18.375s18.5 8.2267 18.5 18.375c0 7.409-2.599 9.478-16.599 29.636-.918 1.319-2.884 1.319-3.802 0zm1.901-21.98c4.257 0 7.708-3.428 7.708-7.656s-3.451-7.656-7.708-7.656-7.708 3.428-7.708 7.656 3.451 7.656 7.708 7.656z" fill="#0073c0"/></g><g clip-path="url(#c)"><path d="m404.599 256.011c-14-20.158-16.599-22.227-16.599-29.636 0-10.148 8.283-18.375 18.5-18.375s18.5 8.227 18.5 18.375c0 7.409-2.599 9.478-16.599 29.636-.918 1.319-2.884 1.319-3.802 0zm1.901-21.98c4.257 0 7.708-3.428 7.708-7.656s-3.451-7.656-7.708-7.656-7.708 3.428-7.708 7.656 3.451 7.656 7.708 7.656z" fill="#0073c0"/></g><g clip-path="url(#d)"><path d="m456.599 530.011c-14-20.158-16.599-22.227-16.599-29.636 0-10.148 8.283-18.375 18.5-18.375s18.5 8.227 18.5 18.375c0 7.409-2.599 9.478-16.599 29.636-.918 1.319-2.884 1.319-3.802 0zm1.901-21.98c4.257 0 7.708-3.428 7.708-7.656s-3.451-7.656-7.708-7.656-7.708 3.428-7.708 7.656 3.451 7.656 7.708 7.656z" fill="#0073c0"/></g><g clip-path="url(#e)"><path d="m475.599 376.011c-14-20.158-16.599-22.227-16.599-29.636 0-10.148 8.283-18.375 18.5-18.375s18.5 8.227 18.5 18.375c0 7.409-2.599 9.478-16.599 29.636-.918 1.319-2.884 1.319-3.802 0zm1.901-21.98c4.257 0 7.708-3.428 7.708-7.656s-3.451-7.656-7.708-7.656-7.708 3.428-7.708 7.656 3.451 7.656 7.708 7.656z" fill="#0073c0"/></g></svg>
        <div class="MyModal mission-modal" v-for="mission in missions" :ref="'modal-'+mission._id" :key="mission._id">
            <div class="modal-content">
                <h2>{{mission.title}}</h2>
                <div class="flex--missionList">
                    <div class="character--map-list"></div>
                    <p class="character--map-text">{{mission.content}}</p>
                </div>
                <router-link class="mission--button" :to=" '/Mission/' + mission._id">Commencer</router-link>
            </div>
        </div>
    </div>
</template>
<script>
import axios from 'axios'
export default({
    setup() {
        
    },
    data(){
        return{
            missions:null
        }        
    },
    methods:{
        async fetchMissions(){
            const res = await axios.get('http://localhost:6590/v1/missions', {
        })
        

        this.missions = res.data.data
        },

        async onSelectMission(id){
            this.$refs['modal-'+id][0].classList.add('MyModalActive')
            
        },
        async removeModal(id){
            this.$refs['modal-'+id][0].classList.remove('MyModalActive')
        }
    },
    mounted(){
        this.fetchMissions()
    }
})
</script>